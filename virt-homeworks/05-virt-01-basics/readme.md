# Домашнее задание к занятию 1. «Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения»

## Выполнил Шарафуков Ильшат

### 1. Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Полная виртуализация полностью симулирует требуемое оборудование для гостевой операционной системы на различных уровнях (сеть, хранилища, цпу, рам). Полная виртуализация работает без "прослойки" в виде хостовой ОС.

Для работы паравиртуализации используется для работы гипервизора используется "прослойка" в виде хостовой ОС. Для работы гостевых ОС происходит модификация запускаемой ОС, то есть гостевая ОС знает что она виртуализируется. В паравиртуализации некоторые компоненты, например сетевые или дисковые устройства могут быть доступны напрямую через вызовы наружу виртуальной машины.

Виртуализация на уровне операционной системы или контейнерная виртуализация это метод виртуализации, при котором ядро операционной системы поддерживает несколько изолированных экземпляров пространства пользователя, вместо одного. С точки зрения хостовой ОС - контейнер это ещё один процесс работающий по соседству с остальными процессами.

### 2. Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.
```
Организация серверов:

физические сервера,
паравиртуализация,
виртуализация уровня ОС.
Условия использования:

высоконагруженная база данных, чувствительная к отказу;
различные web-приложения;
Windows-системы для использования бухгалтерским отделом;
системы, выполняющие высокопроизводительные расчёты на GPU.
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.
```
1) высоконагруженная база данных, чувствительная к отказу - для такого типа использования лучше использовать физические сервера, т.к. уменьшается вероятность отказа по причине сбоя работы гипервизора или проблем с виртуальной машиной. Так же несколько физ серверов можно кластеризовать, чтобы уменьшить риск отказа ещё сильнее.
2) различные web-приложения - виртуализация уровня ОС, поскольку в данном типе использования важна простота обслуживания приложений и простота доставки приложений на сервера. Так же следует отметить уменьшение времени простоя сервиса во время обновлений.
3) Windows-системы для использования бухгалтерским отделом - паравиртуализация, так как упрощается бекапирование и клонирование виртуальных сред. Упрощение расширение ресурсов и простота использования данного решения для сотрудников бухгалтерии.
4) системы, выполняющие высокопроизводительные расчёты на GPU - физические сервера. Выбор обусловлен тем, что для аппаратных расчетов требуется максимальный доступ к аппаратным ресурсам, который физический сервер сможет дать более эффективно. 

### 3. Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

```
Сценарии:

100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
```

1) Полная аппаратная виртуализация. Vmware ESXI. Так как нет ограничений в плане стоимости отлично подходит платное решение от vmware. Данное решение удовлетворяет всем требованиям из пункта задания и имеет хорошую поддержку.
2) Парвиртуализация. Proxmox. Бесплатное и достаточно надежное решение.
3) Hyper-V Server. Максимально совместимое с windows системами решение, к тому же бесплатное.
4) Виртуализация уровня ОС. Упрощается разворачивание тестовых стендов. Как пример можно использовать podman или docker.

### 4. Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

К возможным проблемам гетерогенной среды виртуализации можно отнести:

1) Меньшая отказоустойчивость, т.к. невозможна "лайв" миграция экземпляров ВМ в случае выхода из строя серверов. 
2) Различные пороги входа инженеров для поддержания разных решений гипервизоров, как следствие проблемы с обслуживанием.
3) Различные требования к серверам, используемым в работе гипервизоров. Возможно возникновение ситуации, когда для каждой системы управления виртуализации могут потребоваться различные аппаратные решения, несовместимые между собой. Так же это влечет за собой увеличение накладных расходов компании.

Исходя из этого, я бы не стал создавать гетерогенную среду виртуализации. Минимизировать риски при построении подобной системы можно следующим образом:
Необходимо четко разделить задачи, решаемые различными системами управления виртуализации, например, приватное облако решает внутренние задачи компании и строится только на 1 системе вирт. Публичное облако компании решает задачи бизнес клиентов и так же строится по другим принципам с использованием других инструментов. Так как решаемые задачи публичного и приватного облаков не совпадают, то и риски возникновения проблем при использовании гетерогенных сред меньше, чем если бы две разные системы виртуализации решали одну задачу.